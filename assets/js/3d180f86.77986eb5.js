"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[505],{2273(e,s,t){t.r(s),t.d(s,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>l,metadata:()=>n,toc:()=>o});const n=JSON.parse('{"id":"standards/apis/index","title":"API Guidelines","description":"APIs within WeatherStack should always attempt to return a value, and give the user the most information","source":"@site/docs/standards/apis/index.mdx","sourceDirName":"standards/apis","slug":"/standards/apis/","permalink":"/docs/standards/apis/","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/standards/apis/index.mdx","tags":[],"version":"current","lastUpdatedBy":"William Dawson","lastUpdatedAt":1771594773000,"sidebarPosition":1,"frontMatter":{"title":"API Guidelines","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Standards","permalink":"/docs/standards/"},"next":{"title":"Security Guidelines","permalink":"/docs/standards/security/"}}');var i=t(4848),r=t(8453);const l={title:"API Guidelines",sidebar_position:1},d=void 0,a={},o=[{value:"Versioning",id:"versioning",level:2},{value:"Methods",id:"methods",level:2},{value:"HTTP codes",id:"http-codes",level:2},{value:"Required API routes",id:"required-api-routes",level:2},{value:"Information API route",id:"information-api-route",level:3},{value:"Health API routes",id:"health-api-routes",level:3},{value:"Liveliness",id:"liveliness",level:4},{value:"Information",id:"information",level:4}];function c(e){const s={code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.p,{children:"APIs within WeatherStack should always attempt to return a value, and give the user the most information\npossbible about an error. For example, if the request is malformed, tell the user what part of the\nrequest is malformed, rather than just returning 400."}),"\n",(0,i.jsxs)(s.p,{children:["The API route can begin with ",(0,i.jsx)(s.code,{children:"/api/"}),", but if possible just ",(0,i.jsx)(s.code,{children:"/"}),"."]}),"\n",(0,i.jsx)(s.h2,{id:"versioning",children:"Versioning"}),"\n",(0,i.jsx)(s.p,{children:"If this is a significant API that could have breaking changes if altered (If it impacts a lot of other services)\nit must have a versioning system, so that legacy routes can still be accessed by difficult to change services."}),"\n",(0,i.jsx)(s.p,{children:"For example:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"/v1/health/liveliness"})," - Check version 1 liveliness"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"/v2/health/liveliness"})," - Check version 2 liveliness"]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"methods",children:"Methods"}),"\n",(0,i.jsx)(s.p,{children:"Methods must be used for their correct purposes."}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{style:{textAlign:"center"},children:"Method"}),(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Purpose"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"center"},children:(0,i.jsx)(s.code,{children:"GET"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:"Retrieving data"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"center"},children:(0,i.jsx)(s.code,{children:"POST"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:"Creating new data/resources"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"center"},children:(0,i.jsx)(s.code,{children:"PUT/PATCH"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:"Updating existing data/resources"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"center"},children:(0,i.jsx)(s.code,{children:"DELETE"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:"Removing existing data/resources"})]})]})]}),"\n",(0,i.jsx)(s.h2,{id:"http-codes",children:"HTTP codes"}),"\n",(0,i.jsx)(s.p,{children:"HTTP return codes must also be used for their correct purposes."}),"\n",(0,i.jsx)(s.h2,{id:"required-api-routes",children:"Required API routes"}),"\n",(0,i.jsx)(s.p,{children:"Any API must have the following API routes."}),"\n",(0,i.jsx)(s.h3,{id:"information-api-route",children:"Information API route"}),"\n",(0,i.jsxs)(s.p,{children:["Depending on the API, the root ",(0,i.jsx)(s.code,{children:"/"})," should be used to easily identify what API it is.\nIf the root is being used for something else, it can be ",(0,i.jsx)(s.code,{children:"/info/"}),"."]}),"\n",(0,i.jsx)(s.p,{children:"This must return the following data:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Version information (Current version code)"}),"\n",(0,i.jsx)(s.li,{children:"API name"}),"\n",(0,i.jsx)(s.li,{children:"Repository URL"}),"\n",(0,i.jsx)(s.li,{children:"A cool little message (Can be anything, even randomly selected)"}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"health-api-routes",children:"Health API routes"}),"\n",(0,i.jsx)(s.p,{children:"There are 2 API routes that are required for health checking, and some other service-specific API routes."}),"\n",(0,i.jsx)(s.h4,{id:"liveliness",children:"Liveliness"}),"\n",(0,i.jsxs)(s.p,{children:["This is a very quick API route that simply returns a small message (can be anything) saying that it's alive.\nThis API route should be ",(0,i.jsx)(s.code,{children:"/health/liveliness/"}),"."]}),"\n",(0,i.jsx)(s.p,{children:"For example:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-json",children:'{\n    "success": true,\n    "code": 200,\n    \n    "message": "Number 5 is alive!"\n}\n'})}),"\n",(0,i.jsx)(s.h4,{id:"information",children:"Information"}),"\n",(0,i.jsxs)(s.p,{children:["This is an informative API route, as it should return information such as uptime, and other service-specific values,\nand of course, a small message (can be anything).\nTHis API route should be ",(0,i.jsx)(s.code,{children:"/health/info/"}),"."]}),"\n",(0,i.jsx)(s.p,{children:"For example:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-json",children:'{\n    "success": true,\n    "code": 200,\n\n    "message": "Dude, you can\'t run from the future!",\n\n    "stats": {\n        "uptime": 3538688.83811651,\n        "uptime_human": "1 months 10 days 12 hours 24 minutes 32 seconds 838 milliseconds"\n    }\n}\n'})})]})}function h(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453(e,s,t){t.d(s,{R:()=>l,x:()=>d});var n=t(6540);const i={},r=n.createContext(i);function l(e){const s=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),n.createElement(r.Provider,{value:s},e.children)}}}]);